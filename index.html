<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SynqBrand Müşteri Portalı</title>
    <link rel="icon" href="assets/images/SynqBrand_Icon.webp" type="image/webp">
    <link href="https://releases.transloadit.com/uppy/v3.3.1/uppy.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        /* Platform kullanıcı adı inputlarını ve Brand Voice açıklamalarını dinamik olarak göstermek için ek stiller */
        .platform-username-input { display: none; margin-left: 10px; max-width: 200px; padding: 0.4rem; font-size: 0.9rem; }
        .checkbox-wrapper input[type="checkbox"]:checked ~ .platform-username-input { display: inline-block; }
        
        .radio-extra-info { display: none; }
        .radio-option input[type="radio"]:checked ~ .radio-extra-info { display: block; }

        /* YENİ SOSYAL MEDYA BAĞLANTI SAYFASI STİLLERİ */
        /* Butonları tek bir sütunda veya ikişerli göstermek için flex-wrap kullanıldı */
        .platform-buttons-container { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 15px; 
            margin-top: 20px;
        }
        /* Her tuşun aynı genişlikte (örneğin %48) olması için */
        .platform-connect-wrapper {
            width: calc(50% - 7.5px); /* İki sütun için */
            min-width: 200px; /* Mobil uyum için minimum genişlik */
        }
        /* Tuşları anasayfa tuşları gibi görünecek şekilde güncelledik */
        .platform-connect-btn { 
            background-color: #3f51b5; 
            color: white; 
            padding: 12px 20px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            transition: background-color 0.3s; 
            font-size: 1rem; 
            width: 100%; /* Kapsayıcı genişliğini kullan */
            text-align: left;
            position: relative;
        }
        .platform-connect-btn:hover { background-color: #303f9f; }

        /* BAĞLANTI DURUMU STİLLERİ */
        .connection-status-text {
            position: absolute;
            right: 15px;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
        }
        .connection-status-text.connected { color: #c8e6c9; /* Açık Yeşil */ }
        .connection-status-text.disconnected { color: #ffcdd2; /* Açık Kırmızı */ }
        .platform-connect-btn.is-connected { background-color: #4caf50; }
        .platform-connect-btn.is-connected:hover { background-color: #388e3c; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Section -->
        <div id="login-section">
            <img src="assets/images/SynqBrand_Logo.webp" alt="SynqBrand Logo" class="header-logo">
            <h1>Portal Login</h1>
            <form id="login-form">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" id="login-btn" class="btn-primary">Log In</button>
            </form>
            <div id="status"></div>
        </div>

       <!-- Customer Panel Section (Anasayfa) -->
        <div id="customer-panel" style="display:none;">
            <img src="assets/images/SynqBrand_Logo.webp" alt="SynqBrand Logo" class="header-logo">
            <h1>User Panel</h1>
            <p id="welcome-message"></p>
            <div class="panel-buttons">
                <!-- Üst Grup -->
                <button id="show-form-btn" class="btn-primary">Create New Post</button>
                <button id="show-approval-portal-btn" class="btn-primary">Pending Monthly Posts</button>
                
                <!-- Alt Grup: BUTON DEĞİŞTİRİLDİ -->
                <button id="show-connect-page-btn" class="btn-primary">Social Media Connections</button>
                <button id="logout-btn" class="btn-secondary">Log Out</button>
            </div>
        </div>

        <!-- YENİ BÖLÜM: SOSYAL MEDYA BAĞLANTI SAYFASI -->
        <div id="connect-page-section" style="display:none;">
            <img src="assets/images/SynqBrand_Logo.webp" alt="SynqBrand Logo" class="header-logo">
            <!-- BAŞLIK DEĞİŞTİRİLDİ -->
            <h2>Social Media Account Management</h2> 
            <p>Please connect your platform accounts below. Connected accounts are marked in green.</p>
            
            <div id="platform-buttons-container" class="platform-buttons-container">
                <!-- Platform Tuşları: data-platform özelliği ve wrapper eklendi -->
                <div class="platform-connect-wrapper"><button class="platform-connect-btn" data-platform="facebook" data-label="Facebook">Connect Facebook <span class="connection-status-text" id="status-facebook">Loading...</span></button></div>
                <div class="platform-connect-wrapper"><button class="platform-connect-btn" data-platform="instagram" data-label="Instagram">Connect Instagram <span class="connection-status-text" id="status-instagram">Loading...</span></button></div>
                <div class="platform-connect-wrapper"><button class="platform-connect-btn" data-platform="twitter" data-label="X (Twitter)">Connect X (Twitter) <span class="connection-status-text" id="status-twitter">Loading...</span></button></div>
                <div class="platform-connect-wrapper"><button class="platform-connect-btn" data-platform="linkedin" data-label="LinkedIn">Connect LinkedIn <span class="connection-status-text" id="status-linkedin">Loading...</span></button></div>
                <div class="platform-connect-wrapper"><button class="platform-connect-btn" data-platform="pinterest" data-label="Pinterest">Connect Pinterest <span class="connection-status-text" id="status-pinterest">Loading...</span></button></div>
                <div class="platform-connect-wrapper"><button class="platform-connect-btn" data-platform="googlebusiness" data-label="Google Business">Connect Google Business <span class="connection-status-text" id="status-googlebusiness">Loading...</span></button></div>
                <div class="platform-connect-wrapper"><button class="platform-connect-btn" data-platform="tiktok" data-label="TikTok">Connect TikTok <span class="connection-status-text" id="status-tiktok">Loading...</span></button></div>
                <div class="platform-connect-wrapper"><button class="platform-connect-btn" data-platform="youtube" data-label="YouTube">Connect YouTube <span class="connection-status-text" id="status-youtube">Loading...</span></button></div>
            </div>

            <div style="margin-top: 30px;">
                <button id="back-to-panel-from-connect-btn" class="btn-secondary">Back to Panel</button>
            </div>
        </div>
        <!-- BAĞLANTI SAYFASI BİTİŞİ -->

        <!-- Onboarding Section -->
        <div id="onboarding-section" style="display:none;">
            <img src="assets/images/SynqBrand_Logo.webp" alt="SynqBrand Logo" class="header-logo">
            <div class="panel-buttons">
                <button id="onboarding-logout-btn" class="btn-secondary">Log Out</button>
            </div>
            <h1>Welcome! Let's Set Up Your Brand Profile</h1>
            <p>Please provide the following information to help us configure your content creation engine.</p>
            
            <!-- Form, JavaScript tarafından bu div'in içine yüklenecek -->
            <div id="form-container"></div>
        </div>

        <!-- Pending Activation Section -->
        <div id="pending-activation-section" style="display:none;">
            <img src="assets/images/SynqBrand_Logo.webp" alt="SynqBrand Logo" class="header-logo">
            <div class="panel-buttons">
                <button id="pending-logout-btn" class="btn-secondary">Log Out</button>
            </div>
            <h2>Setup in Progress</h2>
            <p>Thank you for submitting your information. Your system is being configured and will be activated shortly. You will be notified via email once your panel is ready.</p>
        </div>

        <!-- Post Form Section -->
        <div id="post-form-section" style="display:none;">
            <img src="assets/images/SynqBrand_Logo.webp" alt="SynqBrand Logo" class="header-logo">
            <h2>Create New Post</h2>
            <form id="post-form">
                <div class="form-group"><label for="postTitle" class="required">Title</label><input type="text" id="postTitle" required></div>
                <div class="form-group"><label for="postContent" class="required">Content / Caption</label><textarea id="postContent" required></textarea></div>
                <div class="form-group"><label for="destinationLink">Destination Link</label><input type="text" id="destinationLink" placeholder="https://example.com"></div>
                <div class="form-group"><label class="required">Media Files</label><div id="uppy-drag-drop-area"></div></div>
                <div class="form-group">
                    <label class="required">Select Platforms to Post</label>
                    <div class="platform-options">
                        <div class="checkbox-wrapper select-all-wrapper"><input type="checkbox" id="select-all-platforms" disabled><label for="select-all-platforms" class="checkbox-label"><span class="checkbox-custom"></span><span class="checkbox-label-text">Select / Deselect All</span></label></div>
                        <div id="platform-selection-container"><p><em>Loading available platforms...</em></p></div>
                    </div>
                </div>
                <button type="submit" id="submit-post-btn" class="btn-primary">Submit Post</button>
                <button type="button" id="back-to-panel-btn" class="btn-secondary">Back to Panel</button>
            </form>
            <div id="post-status"></div>
        </div>

        <!-- Approval Portal Section -->
        <div id="approval-portal-section" style="display:none;">
            <img src="assets/images/SynqBrand_Logo.webp" alt="SynqBrand Logo" class="header-logo">
            <h2>Pending Monthly Posts</h2>
            <div id="bulk-actions-container" style="display:none;"><div class="bulk-actions-bar"><div class="checkbox-wrapper"><input type="checkbox" id="bulk-select-all"><label for="bulk-select-all" class="checkbox-label"><span class="checkbox-custom"></span><span class="checkbox-label-text" style="font-weight: 700;">Select All</span></label></div><button id="bulk-approve-btn" class="btn-primary" disabled>Approve Selected</button></div></div>
            <div id="approval-gallery-container"></div>
            <button type="button" id="publish-approved-btn" class="btn-primary" disabled>Send Approved Posts to Publishing Plan</button>
            <div id="publish-status"></div>
            <button type="button" id="back-to-panel-from-approval-btn" class="btn-secondary">Back to Panel</button>
        </div>
        
    </div>

    <!-- Modal HTML Structure -->
    <div class="modal-overlay" id="approval-modal">
        <div class="modal-content">
            <div class="modal-body"><div class="modal-visual-container"><img id="modal-visual" src="" alt="Post Visual"></div><div class="modal-text-content"><h3 id="modal-title" class="modal-title"></h3><div id="modal-platforms"></div></div></div>
            <div class="modal-footer"><span id="modal-status" class="modal-status-text"></span><button id="modal-cancel-btn" class="btn-secondary">Cancel</button><button id="modal-save-btn" class="btn-primary">Save Changes</button></div>
            <div class="modal-header"><button class="modal-close-btn" id="modal-close-btn">&times;</button></div>
        </div>
    </div>
    
    <script type="module" src="assets/js/script.js"></script>
    
    <svg width="0" height="0" style="position:absolute"><symbol id="video-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z" /></symbol></svg>
</body>
</html>
